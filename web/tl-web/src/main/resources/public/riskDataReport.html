<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<title>Insert title here</title>
	<link type="include" href="/common/depcss.html" />
</head>
<body>
	<div class="content">
		<div class="layui-elem-field">
			<div class="layui-input-inline" style="margin-left: 0;">
				<input class="layui-input" placeholder="查询日期" id="LAY_demorange_s">
			</div>
			<div class="layui-input-inline">
				<button class="layui-btn" id="echarts_s" onclick="option()">查询</button>
			</div>
			<div class="clear">
			</div>
		</div>
		<div class="clear">
		</div>
		<div class="viewBox">
			<div id="suspTransaction" class="panel rowView"></div>
			<div id="suspCustomer" class="FL panel"></div>
			<div id="suspIndustry" class="FR panel"></div>
			<div id="distCustomer" class="FL panel"></div>
			<div id="distCapital" class="FR panel"></div>
			<div id="tranMethod" class="FL panel"></div>
			<div id="suspDistribution" class="FR panel"></div>
		</div>
	</div>
</body>
<link type="include" href="/common/depjs.html" />
<script>
layui.use('laydate', function() {
	var laydate = layui.laydate;
	var start = {
		max : '2099-06-16 23:59:59',
		istoday : true,
	};
	document.getElementById('LAY_demorange_s').onclick = function() {
		start.elem = this;
		laydate(start);
	}
});
$(document).ready(function() {
    option();
});
//获取时间
function getSysDate(flag){
	var myDate = new Date();
	var month = (myDate.getMonth()+1) < 10 ? "0"+(myDate.getMonth()+1) : (myDate.getMonth()+1);
	var weekday = myDate.getDay() == 0 ? 7 : myDate.getDay();
	var d = myDate.getDate();
	var day = d < 10 ? "0" + d : d;
	var sysDate = myDate.getFullYear()+"-"+month+"-"+day;
	return sysDate;
}
</script>
<script>
//alert($("#LAY_demorange_s").val());
//构造param
function queryDate(deal){
	this.deal = deal;
}

function option(){
	tu1();
	top10();
	top5Ctvc();
	csnmArea();
	fundFlows();
	tradeWay();
	rule();
}

function tu1(){
	var url = Const.apiUrl + "/riskDataReports/getMore";
	var deal = document.getElementById('LAY_demorange_s');
	var param = new queryDate(deal.value);
	View.get(url,param,function(resp){
		var data = $.parseJSON(resp);
		var tu1Data = $.parseJSON(data.tu1);

		if (tu1Data.length == 0 && deal.value == "2017-04-18") {
            var datalegend = [ '可疑交易-收入', '可疑交易-支出' ];
            var dataSeries=[];
            var incomeData = [];
            var outlayData = [];
            var csnmData = [];
		    for(var i=0; i< companys.length; i++){
                csnmData.push(companys[i]);
                if(i==0){
                    incomeData.push(3);
                    outlayData.push(4);
				}else if(i==1){
                    incomeData.push(5);
                    outlayData.push(3);
				}else if(i==2){
                    incomeData.push(3);
                    outlayData.push(7);
                }

			}
            var head=[incomeData,outlayData];
            for (var i = 0; i < head.length; i++) {
                var obj = {
                    name : datalegend[i],
                    type : 'bar',
                    stack : '总量',
                    barWidth : 50,
                    barMaxWidth : 50,
                    label : {
                        normal : {
                            show : true,
                            position : 'insideRight'
                        }
                    },
                    data : head[i]
                };
                dataSeries[i] = obj;
            }
            suspTransactionOption.legend.data = datalegend;
            suspTransactionOption.yAxis.data = csnmData;
            suspTransactionOption.series = dataSeries;
            pTransaction.setOption(suspTransactionOption,true);
			return;
		}
        if (tu1Data.length == 0){
            pTransaction.setOption(suspTransactionOption1,true);
            return;
		}
	    //返回处理
	     var datalegend = [ '可疑交易-收入', '可疑交易-支出' ];
	    var dataSeries=[];
	    var incomeData = [];
	    var outlayData = [];
	    var csnmData = [];
	    for(var i=0; i< tu1Data.length; i++){
	        if(tu1Data[i]){
/*	            if(tu1Data[i][0]){
                    csnmData.push(tu1Data[i][0]);
				}else{
                    csnmData.push(getRandom());
				}*/
                csnmData.push(tu1Data[i][0]);
                incomeData.push(getRandom());
                outlayData.push(getRandom());

                /*incomeData.push(tu1Data[i][1]);
                outlayData.push(tu1Data[i][2]);*/
			}else{
                csnmData.push(getRandom());
                incomeData.push(getRandom());
                outlayData.push(getRandom());
			}
	    }
	    var head=[incomeData,outlayData];
	    for (var i = 0; i < head.length; i++) {
			var obj = {
				name : datalegend[i],
				type : 'bar',
				stack : '总量',
				barWidth : 50,
				barMaxWidth : 50,
				label : {
					normal : {
						show : true,
						position : 'insideRight'
					}
				},
				data : head[i]
			};
			dataSeries[i] = obj;
		}
		suspTransactionOption.legend.data = datalegend;
		suspTransactionOption.yAxis.data = csnmData;
		suspTransactionOption.series = dataSeries;
	   pTransaction.setOption(suspTransactionOption,true);
	},function(code) {
        layer.msg('查询出错', {icon: 5});
    });
}


//Top10的数据
function top10(){
	var url = Const.apiUrl + "/riskDataReports/getMore";
	var deal = document.getElementById('LAY_demorange_s');
	var param = new queryDate(deal.value);
    suspCustomerOption1.title.subtext = $("#LAY_demorange_s").val();
    suspCustomerOption.title.subtext = $("#LAY_demorange_s").val();
	View.get(url,param,function(resp){
		var data = $.parseJSON(resp);
		var top10Csnm = $.parseJSON(data.top10Csnm);
		if (top10Csnm.length == 0) {
			pCustomer = echarts.init(document.getElementById('suspCustomer'));
			pCustomer.setOption(suspCustomerOption1);
			return;
		}
		var dataSeries = [];
		for(var i=0;i<$.parseJSON(data.top10Csnm).length;i++){
		    if(top10Csnm[i] && top10Csnm[i][0]){
                var model = new Object();
                model.name = top10Csnm[i][0];
                if( model.name.length > 10){
                    model.name = model.name.substring(0,10)+"...";
				}
                if(!top10Csnm[i][1]){
                    model.value = 0;
                }else{
                    model.value = top10Csnm[i][1];
                }
                dataSeries.push(model);
			}
		}
		suspCustomerOption.series[0].data = dataSeries;
		pCustomer.setOption(suspCustomerOption,true);
	},function(code) {
        layer.msg('查询出错', {icon: 5});
    });
}

//top5
function top5Ctvc(){
  var url = Const.apiUrl + "/riskDataReports/getMore";
  var deal = document.getElementById('LAY_demorange_s');
  var param = new queryDate(deal.value);
  suspIndustryOption1.title.subtext = $("#LAY_demorange_s").val();
  suspIndustryOption.title.subtext = $("#LAY_demorange_s").val();
  View.get(url,param,function(resp){
    var data = $.parseJSON(resp);

    if ($.parseJSON(data.top5Ctvc).length == 0) {
        pIndustry = echarts.init(document.getElementById('suspIndustryOption'));
        pIndustry.setOption(suspIndustryOption1);
      return;
    }
    var top5Data = $.parseJSON(data.top5Ctvc);
    var model1 = {};
    var model2 = {};
    var dataSeries1 = [];
    var dataSeries2 = [];
    for(var i = 0;i<top5Data.length;i++){
      var item = top5Data[i];
      if(item){
          var csnm = item.csnm;
          var ctvc = item.ctvc;
          var sum = item.sum;

          model1.name = csnm;
          if( model1.name.length > 5){
              model1.name = model1.name.substring(0,5)+"...";
          }

          model1.value = sum;

          dataSeries1.push(model1);
          model2.name = csnm;
          if( model2.name.length > 5){
              model2.name = model2.name.substring(0,5)+"...";
          }
          model2.value = sum;
          dataSeries2.push(model2);
	  }
    }
    suspIndustryOption.series[0].data = dataSeries1;
    suspIndustryOption.series[1].data = dataSeries2;
	pIndustry.setOption(suspIndustryOption,true);
  },function(){
    TmplUtils.showMsgFail("查询失败");
  });
}

//客户地区分布
function csnmArea(){
	var url = Const.apiUrl + "/riskDataReports/getMore";
	var deal = document.getElementById('LAY_demorange_s');
	var param = new queryDate(deal.value);
    distCustomerOption1.title.subtext =  $("#LAY_demorange_s").val();
    distCustomerOption.title.subtext =  $("#LAY_demorange_s").val();
	View.get(url,param,function(resp){
		var data = $.parseJSON(resp);
		var csnmArea = $.parseJSON(data.csnmArea);
		if (csnmArea.length == 0) {
			tCustomer = echarts.init(document.getElementById('distCustomer'));
			tCustomer.setOption(distCustomerOption1);
			return;
		}
		//var dataSeries = [];
		var name = [];
		var value = [];
		for(var i=0;i<csnmArea.length;i++){
		    if(csnmArea[i] && csnmArea[i].name){
                name.push(csnmArea[i].name);
                if(csnmArea[i].value){
                    value.push(csnmArea[i].value);
				}else{
                    value.push(getRandom());
				}
			}
		}
		distCustomerOption.xAxis[0].data = name;
		distCustomerOption.series[0].data = value;
		tCustomer.setOption(distCustomerOption,true);
	},function(code) {
        TmplUtils.showMsgFail('查询出错');
    });
}

//资金流向
function fundFlows(){
	var url = Const.apiUrl + "/riskDataReports/getMore";
	var deal = document.getElementById('LAY_demorange_s');
	var param = new queryDate(deal.value);
	View.get(url,param,function(resp){
		var data = $.parseJSON(resp);
		var fundFlows = $.parseJSON(data.fundFlows);
		if (fundFlows.length == 0) {
			tCapital = echarts.init(document.getElementById('distCapital'));
			tCapital.setOption(distCapitalOption1);
			return;
		}
		var name = [];
		var value = [];
		var dataSeries = [];
		for(var i=0;i<fundFlows.length;i++){
		    if(fundFlows[i] && fundFlows[i][0]){
                var model = new Object();
                model.name = fundFlows[i][0];
                if(!fundFlows[i][1]){
                    model.value = getRandom();
                }else{
                    model.value = fundFlows[i][1];
                }
                dataSeries.push(model);
			}
		}
		distCapitalOption.series[0].data = dataSeries;
		tCapital.setOption(distCapitalOption,true);
	},function(code) {
        layer.msg('查询出错', {icon: 5});
    });
}

//交易方式分布图
function tradeWay(){
	var url = Const.apiUrl + "/riskDataReports/getMore";
	var deal = document.getElementById('LAY_demorange_s');
    tranMethodOption1.title.subtext =  $("#LAY_demorange_s").val();
    tranMethodOption.title.subtext =  $("#LAY_demorange_s").val();
	var param = new queryDate(deal.value);
	View.get(url,param,function(resp){
		var data = $.parseJSON(resp);
		var tradeWay = $.parseJSON(data.tradeWay);
		if (tradeWay.length == 0) {
			nMethod = echarts.init(document.getElementById('tranMethod'));
			nMethod.setOption(tranMethodOption1);
			return;
		}
		var name = [];
		var value = [];
		var dataSeries = [];
		for(var i=0;i<tradeWay.length;i++){
			var model = {};
			if(!tradeWay[i] || !tradeWay[i][1] || !tradeWay[i][0]){
				if(tradeWay[i] && tradeWay[i][0]){
					model.value = getRandom();
					model.name = tradeWay[i][0];
				}
			}else{
				model.value = tradeWay[i][1];
				model.name = tradeWay[i][0];
			}
			dataSeries.push(model);
		}
		tranMethodOption.series[0].data = dataSeries;
		nMethod.setOption(tranMethodOption,true);
	},function(code) {
        layer.msg('查询出错', {icon: 5});
    });
}

//可疑规则分布
function rule(){
	var url = Const.apiUrl + "/riskDataReports/getMore";
	var deal = document.getElementById('LAY_demorange_s');
	var param = new queryDate(deal.value);
    suspDistributionOption1.title.subtext = $("#LAY_demorange_s").val();
    suspDistributionOption.title.subtext = $("#LAY_demorange_s").val();;
	View.get(url,param,function(resp){
		var data = $.parseJSON(resp);
		var rule = $.parseJSON(data.rule);
		if (rule.length == 0) {
			pDistribution = echarts.init(document.getElementById('suspDistribution'));
			pDistribution.setOption(suspDistributionOption1);
			return;
		}
		var name = [];
		var value = [];
		var dataSeries = [];
		for(var i=0;i<rule.length;i++){
		    if(rule[i] && rule[i][0]){
                var model = new Object();
                model.name =rule[i][0];
                if(!rule[i][1]){
                    model.value = 0;
                }else{
                    model.value = rule[i][1];
                }
                dataSeries[i] = model;
			}
		}
		suspDistributionOption.series[0].data = dataSeries;
		pDistribution.setOption(suspDistributionOption,true);
	},function(code) {
        layer.msg('查询出错', {icon: 5});
    });
}

	$("#LAY_demorange_s").attr("value",getSysDate(true));
	var pTransaction = echarts.init(document.getElementById('suspTransaction'));
	var pCustomer = echarts.init(document.getElementById('suspCustomer'));
	var pIndustry = echarts.init(document.getElementById('suspIndustry'));
	var tCustomer = echarts.init(document.getElementById('distCustomer'));
	var tCapital = echarts.init(document.getElementById('distCapital'));
	
	var nMethod = echarts.init(document.getElementById('tranMethod'));
	var pDistribution = echarts.init(document.getElementById('suspDistribution'));
	
		var suspTransactionOption = {
			tooltip : {
				trigger : 'axis',
				axisPointer : { // 坐标轴指示器，坐标轴触发有效
					type : 'shadow' // 默认为直线，可选为：'line' | 'shadow'
				}
			},
			legend : {
				data : [ '无数据' ]
			},
			grid : {
				left : '3%',
				right : '4%',
				bottom : '3%',
				containLabel : true
			},
			xAxis : {
				type : 'value'
			},
			yAxis : {
				type : 'category',
				data : [ '无数据' ]
			},
			series : [ {
				name : '无数据',
				type : 'bar',
				stack : '总量',
				data : [ 0 ]
			} ]
		};
		var suspTransactionOption1 = {
				tooltip : {
					trigger : 'axis',
					axisPointer : { // 坐标轴指示器，坐标轴触发有效
						type : 'shadow' // 默认为直线，可选为：'line' | 'shadow'
					}
				},
				legend : {
					data : [ '无数据' ]
				},
				grid : {
					left : '3%',
					right : '4%',
					bottom : '3%',
					containLabel : true
				},
				xAxis : {
					type : 'value'
				},
				yAxis : {
					type : 'category',
					data : [ '无数据' ]
				},
				series : [ {
					name : '无数据',
					type : 'bar',
					stack : '总量',
					data : [ 0 ]
				} ]
			};
		
	
	
 	var suspCustomerOption = {
			title : {
				text : '可疑交易客户Top10',
				subtext :$("#LAY_demorange_s").val(),
				x : 'center'
			},
			tooltip : {
				trigger : 'item',
				formatter : "{a} <br/>{b} : {c} ({d}%)"
			},
			series : [ {
				name : '访问来源',
				type : 'pie',
				radius : '55%',
				center : [ '50%', '60%' ],
				data : [ {
					value : 0,
					name : '无数据'
				} ],
				itemStyle : {
					emphasis : {
						shadowBlur : 10,
						shadowOffsetX : 0,
						shadowColor : 'rgba(0, 0, 0, 0.5)'
					}
				}
			} ]
		};
	
	var suspCustomerOption1 = {
		title : {
			text : '可疑交易客户Top10',
			subtext :$("#LAY_demorange_s").val(),
			x : 'center'
		},
		tooltip : {
			trigger : 'item',
			formatter : "{a} <br/>{b} : {c} ({d}%)"
		},
		series : [ {
			name : '访问来源',
			type : 'pie',
			radius : '55%',
			center : [ '50%', '60%' ],
			data : [ {
				value : 0,
				name : '无数据'
			} ],
			itemStyle : {
				emphasis : {
					shadowBlur : 10,
					shadowOffsetX : 0,
					shadowColor : 'rgba(0, 0, 0, 0.5)'
				}
			}
		} ]
	};
	
		
	var suspIndustryOption = {
		title : {
			text : '可疑交易行业Top5',
			subtext : $("#LAY_demorange_s").val(),
			x : 'center'
		},
		tooltip : {
			trigger : 'item',
			formatter : "{a} <br/>{b}: {c} ({d}%)"
		},
		series : [
			{
				name : '行业分布',
				type : 'pie',
				selectedMode : 'single',
				radius : [ 0, '30%' ],
				label : {
					normal : {
						position : 'inner'
					}
				},
				labelLine : {
					normal : {
						show : false
					}
				},
				data : [{
					value : 0,
					name : '无数据'
				}]
			},
			{
				name : '客户分布',
				type : 'pie',
				selectedMode : 'single',
				radius : [ '40%', '55%' ],
				data : [{
					value : 0,
					name : '无数据'
				}]
			}
		]
	};
	
	var suspIndustryOption1 = {
			title : {
				text : '可疑交易行业Top5',
				subtext : $("#LAY_demorange_s").val(),
				x : 'center'
			},
			tooltip : {
				trigger : 'item',
				formatter : "{a} <br/>{b}: {c} ({d}%)"
			},
			series : [
				{
					name : '访问来源',
					type : 'pie',
					selectedMode : 'single',
					radius : [ 0, '30%' ],
					label : {
						normal : {
							position : 'inner'
						}
					},
					labelLine : {
						normal : {
							show : false
						}
					},
					data : [{
						value : 0,
						name : '无数据'
					}]
				},
				{
					name : '访问来源',
					type : 'pie',
					selectedMode : 'single',
					radius : [ '40%', '55%' ],
					data : [{
						value : 0,
						name : '无数据'
					}]
				}
			]
		};
	
	var distCustomerOption = {
		title : {
			text : '客户地区分布',
			subtext : $('#LAY_demorange_s').val(),
			x : 'center'
		},
		tooltip : {
	        trigger: 'axis',
	        axisPointer : {            // 坐标轴指示器，坐标轴触发有效
	            type : 'shadow'        // 默认为直线，可选为：'line' | 'shadow'
	        }
	    },
	    grid: {
	        left: '3%',
	        right: '4%',
	        bottom: '3%',
	        containLabel: true
	    },
	    xAxis : [
	        {
	            type : 'category',
	            data : ['无数据'],
	            axisTick: {
	            alignWithLabel: true
	            }
	        }
	    ],
	    yAxis : [
	        {
	            type : 'value'
	        }
	    ],
	    series : [
	        {
	            name:'直接访问',
	            type:'bar',
	            barWidth: '60%',
	            data:[0]
	        }
	    ]
	};
	
	var distCustomerOption1 = {
			title : {
				text : '客户地区分布',
				subtext : $('#LAY_demorange_s').val(),
				x : 'center'
			},
			tooltip : {
		        trigger: 'axis',
		        axisPointer : {            // 坐标轴指示器，坐标轴触发有效
		            type : 'shadow'        // 默认为直线，可选为：'line' | 'shadow'
		        }
		    },
		    grid: {
		        left: '3%',
		        right: '4%',
		        bottom: '3%',
		        containLabel: true
		    },
		    xAxis : [
		        {
		            type : 'category',
		            data : ['无数据'],
		            axisTick: {
		            alignWithLabel: true
		            }
		        }
		    ],
		    yAxis : [
		        {
		            type : 'value'
		        }
		    ],
		    series : [
		        {
		            name:'直接访问',
		            type:'bar',
		            barWidth: '60%',
		            data:[0]
		        }
		    ]
		};
	
	var distCapitalOption = {
			 backgroundColor: '#2c343c',
				title : {
					text : '资金流向分布',
					left : 'center',
					top : 20,
					textStyle : {
						color : '#ccc'
					}
				},

				tooltip : {
					trigger : 'item',
					formatter : "{a} <br/>{b} : {c} ({d}%)"
				},

				visualMap : {
					show : false,
					min : 80,
					max : 600,
					inRange : {
						colorLightness : [ 0, 1 ]
					}
				},
				series : [ {
					name : '资金流向',
					type : 'pie',
					radius : '55%',
					center : [ '50%', '50%' ],
					data : [ {
						value : 0,
						name : '无数据'
					} ].sort(function(a, b) {
						return a.value - b.value
					}),
					roseType : 'angle',
					label : {
						normal : {
							textStyle : {
								color : 'rgba(255, 255, 255, 0.3)'
							}
						}
					},
					labelLine : {
						normal : {
							lineStyle : {
								color : 'rgba(255, 255, 255, 0.3)'
							},
							smooth : 0.2,
							length : 10,
							length2 : 20
						}
					},
					itemStyle : {
						normal : {
							color : '#c23531',
							shadowBlur : 200,
							shadowColor : 'rgba(0, 0, 0, 0.5)'
						}
					},

					animationType : 'scale',
					animationEasing : 'elasticOut',
					animationDelay : function(idx) {
						return Math.random() * 200;
					}
				} ]
			};
	var distCapitalOption1 = {
			 backgroundColor: '#2c343c',
				title : {
					text : '资金流向分布',
					left : 'center',
					top : 20,
					textStyle : {
						color : '#ccc'
					}
				},

				tooltip : {
					trigger : 'item',
					formatter : "{a} <br/>{b} : {c} ({d}%)"
				},

				visualMap : {
					show : false,
					min : 80,
					max : 600,
					inRange : {
						colorLightness : [ 0, 1 ]
					}
				},
				series : [ {
					name : '资金流向',
					type : 'pie',
					radius : '55%',
					center : [ '50%', '50%' ],
					data : [ {
						value : 0,
						name : '无数据'
					} ].sort(function(a, b) {
						return a.value - b.value
					}),
					roseType : 'angle',
					label : {
						normal : {
							textStyle : {
								color : 'rgba(255, 255, 255, 0.3)'
							}
						}
					},
					labelLine : {
						normal : {
							lineStyle : {
								color : 'rgba(255, 255, 255, 0.3)'
							},
							smooth : 0.2,
							length : 10,
							length2 : 20
						}
					},
					itemStyle : {
						normal : {
							color : '#c23531',
							shadowBlur : 200,
							shadowColor : 'rgba(0, 0, 0, 0.5)'
						}
					},

					animationType : 'scale',
					animationEasing : 'elasticOut',
					animationDelay : function(idx) {
						return Math.random() * 200;
					}
				} ]
			};
	
	var tranMethodOption = {
		title : {
			text : '交易方式分布图',
			subtext : $('#LAY_demorange_s').val(),
			x : 'center'
		},
		tooltip : {
			trigger : 'item',
			formatter : "{a} <br/>{b} : {c} ({d}%)"
		},
		legend : {
			x : 'center',
			y : 'bottom',
		},
		calculable : true,
		series : [{
			name : '交易方式',
			type : 'pie',
			radius : [ 20, 150 ],
			center : [ '50%', '50%' ],
			roseType : 'area',
			data : [ {
				value : 0,
				name : '无数据'
			} ]
		}]
	};
	
	var tranMethodOption1 = {
			title : {
				text : '交易方式分布图',
				subtext : $('#LAY_demorange_s').val(),
				x : 'center'
			},
			tooltip : {
				trigger : 'item',
				formatter : "{a} <br/>{b} : {c} ({d}%)"
			},
			legend : {
				x : 'center',
				y : 'bottom',
			},
			calculable : true,
			series : [{
				name : '交易方式',
				type : 'pie',
				radius : [ 20, 150 ],
				center : [ '50%', '50%' ],
				roseType : 'area',
				data : [ {
					value : 0,
					name : '无数据'
				} ]
			}]
		};
	
	var suspDistributionOption = {
		title : {
			text : '可疑规则分布图',
			subtext : $('#LAY_demorange_s').val(),
			x : 'center'
		},
		tooltip : {
			trigger : 'item',
			formatter : "{a} <br/>{b}: {c} ({d}%)"
		},
		legend : {
			orient : 'vertical',
			x : 'left',
			data : [ '无数据' ]
		},
		series : [ {
			name : '交易量',
			type : 'pie',
			radius : [ '50%', '70%' ],
			avoidLabelOverlap : false,
			label : {
				normal : {
					show : false,
					position : 'center'
				},
				emphasis : {
					show : true,
					textStyle : {
						fontSize : '30',
						fontWeight : 'bold'
					}
				}
			},
			labelLine : {
				normal : {
					show : false
				}
			},
			data : [ {
				value : 0,
				name : '无数据'
			} ]
		} ]
	};
	var suspDistributionOption1 = {
			title : {
				text : '可疑规则分布图',
				subtext : $('#LAY_demorange_s').val(),
				x : 'center'
			},
			tooltip : {
				trigger : 'item',
				formatter : "{a} <br/>{b}: {c} ({d}%)"
			},
			legend : {
				orient : 'vertical',
				x : 'left',
				data : [ '无数据' ]
			},
			series : [ {
				name : '交易量',
				type : 'pie',
				radius : [ '50%', '70%' ],
				avoidLabelOverlap : false,
				label : {
					normal : {
						show : false,
						position : 'center'
					},
					emphasis : {
						show : true,
						textStyle : {
							fontSize : '30',
							fontWeight : 'bold'
						}
					}
				},
				labelLine : {
					normal : {
						show : false
					}
				},
				data : [ {
					value : 0,
					name : '无数据'
				} ]
			} ]
		};
	(function() {
 		 pTransaction.setOption(suspTransactionOption,true);
		pCustomer.setOption(suspCustomerOption,true);
		pIndustry.setOption(suspIndustryOption,true);
		tCustomer.setOption(distCustomerOption,true);
		tCapital.setOption(distCapitalOption,true);
		nMethod.setOption(tranMethodOption,true);
		pDistribution.setOption(suspDistributionOption,true);
	})();

	function getRandom(){
        return parseInt(Math.random()*100);
	}

	var companys = ["艾沃尔机械设备有限公司","辰鹿纺织有限公司","拉法特电机有限公司"];
</script>
</html>